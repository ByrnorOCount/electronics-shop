Product:
  type: object
  required:
    - id
    - name
    - price
    - stock
  properties:
    id:
      type: integer
    name:
      type: string
    price:
      type: number
    description:
      type: string
    category_id:
      type: integer
    stock:
      type: integer
    image_url:
      type: string
      format: uri

NewUser:
  type: object
  required:
    - first_name
    - last_name
    - email
    - password
  properties:
    first_name:
      type: string
    last_name:
      type: string
    email:
      type: string
      format: email
    password:
      type: string
      format: password

ChangePasswordRequest:
  type: object
  required:
    - currentPassword
    - newPassword
  properties:
    currentPassword:
      type: string
      description: The user's current password.
    newPassword:
      type: string
      format: password
      description: The new password.

User:
  type: object
  properties:
    id:
      type: integer
    first_name:
      type: string
    last_name:
      type: string
    email:
      type: string
      format: email
    role:
      type: string
    created_at:
      type: string
      format: date-time

LoginCredentials:
  type: object
  required:
    - email
    - password
  properties:
    email:
      type: string
      format: email
    password:
      type: string

AuthResponse:
  type: object
  properties:
    message:
      type: string
    token:
      type: string
    user:
      $ref: "#/User"

CartItem:
  type: object
  properties:
    id:
      type: integer
      description: The unique ID of the cart item.
    user_id:
      type: integer
    product_id:
      type: integer
    quantity:
      type: integer
    name:
      type: string
      description: Product name (joined from products table).
    price:
      type: number
      description: Product price (joined from products table).
    image_url:
      type: string
      format: uri
      description: Product image URL (joined from products table).

AddToCartRequest:
  type: object
  required: [productId, quantity]
  properties:
    productId:
      type: integer
    quantity:
      type: integer

AddToWishlistRequest:
  type: object
  required: [productId]
  properties:
    productId:
      type: integer

OrderItem:
  type: object
  properties:
    id:
      type: integer
    product_id:
      type: integer
    quantity:
      type: integer
    price:
      type: number
      description: The price of the product at the time of purchase.
    name:
      type: string
      description: Product name.

Order:
  type: object
  properties:
    id:
      type: integer
    total_amount:
      type: number
    status:
      type: string
    shipping_address:
      type: string
    created_at:
      type: string
      format: date-time
    items:
      type: array
      items:
        $ref: "#/OrderItem"

CreateOrderRequest:
  type: object
  required: [shippingAddress, paymentMethod, otp]
  properties:
    shippingAddress:
      type: string
      description: The full shipping address for the order.
    paymentMethod:
      type: string
      description: The chosen payment method.
      enum: [cod]
      example: cod
    otp:
      type: string
      description: The 6-digit One-Time Password sent to the user's email.

CreatePaymentSessionRequest:
  type: object
  required: [paymentMethod]
  properties:
    paymentMethod:
      type: string
      description: The online payment provider to use.
      enum: [stripe]
      example: stripe

SupportTicket:
  type: object
  properties:
    id:
      type: integer
    user_id:
      type: integer
    subject:
      type: string
    message:
      type: string
    status:
      type: string
      enum: [open, in_progress, closed]
    created_at:
      type: string
      format: date-time

NewSupportTicketRequest:
  type: object
  required: [subject, message]
  properties:
    subject:
      type: string
    message:
      type: string

FAQItem:
  type: object
  properties:
    id:
      type: integer
    question:
      type: string
    answer:
      type: string

DashboardMetrics:
  type: object
  properties:
    totalSales:
      type: number
    totalUsers:
      type: integer
    totalOrders:
      type: integer
    recentOrders:
      type: array
      items:
        $ref: "#/Order"

Category:
  type: object
  properties:
    id:
      type: integer
    name:
      type: string
    description:
      type: string

NewCategory:
  type: object
  required: [name]
  properties:
    name:
      type: string
    description:
      type: string

Notification:
  type: object
  properties:
    id:
      type: integer
      description: The unique ID of the notification.
    message:
      type: string
      description: The content of the notification.
    read:
      type: boolean
      description: Whether the user has read the notification.
    created_at:
      type: string
      format: date-time

Error:
  type: object
  properties:
    message:
      type: string
      description: A human-readable error message.

ForgotPasswordRequest:
  type: object
  required: [email]
  properties:
    email:
      type: string
      format: email

ResetPasswordRequest:
  type: object
  required: [password]
  properties:
    password:
      type: string
      format: password
