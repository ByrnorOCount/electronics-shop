Backend (Express API with Node.js)
Frontend (React) (Vite)
Database (PostgreSQL)

Shared Config
Keep .env separate for backend vs frontend. (Look into whether this is necessary)
Example:
Backend .env → DB credentials, JWT secret, Stripe keys.
Frontend .env → API base URL, public Stripe key.

Commands
At the root folder (with workspaces):
# Install dependencies for all workspaces
npm run install-all

For backend:
cd backend
npm run dev       # start dev server with nodemon
npm run start     # production start
npm run migrate   # run latest migrations
npm run rollback  # rollback last migration
npm run seed      # run seeds

For frontend:
cd frontend
npm run dev     # Run Vite dev server
npm run build   # Build frontend for production
npm run preview # Preview production build

For root combined dev (both frontend + backend at once):
npm run dev

npm migrate creates the tables if they don't exist yet. If they do exist, it applies any new changes that haven't been applied yet.
npm seed populates the database with data. In our case, it clears the products table and adds sample products.

npx knex migrate:rollback: Destroys the tables created by the last migration.
npx knex migrate:latest: Re-creates the tables using your now-corrected migration file.
npx knex seed:run: Repopulates the fresh tables with your test data.

Using command line to view db (DBeaver is better as it's GUI)
psql -h localhost -p 5432 -U postgres -d electronics_shop
SELECT * FROM products;
exit: type \q and enter

postman/curl testing
apis for everything

STORE PRODUCT IMAGES IN CLOUD (IN PRODUCTION)
Storage: AWS S3
Frontend (React): Vercel (prob this) / Netlify
Backend (Node.js): AWS Elastic Beanstalk (prob this) / Heroku / Render
Database (PostgreSQL): Amazon RDS / Heroku Postgres (prob this) / Render Postgres



làm thêm một bảng chức năng (các chức năng làm thì để bth còn để phát triển lên đồ án thì đánh màu)

tích hợp api:
	ship(giao hàng nhanh)
	payment (stripe)
tham khảo 

admin ->CRD(products,.., dashboard (thống kê theo products, order, theo lượng user user nào mua nhiều mua ít tăng hạng cho user (premium,..))
không đề cao phải tích hợp AI

table phân công công việc (process, requirment (tiến độ công việc, 

# openapi.yaml validation
npm install -g @redocly/cli
redocly bundle backend/openapi/openapi.yaml -o backend/openapi/openapi.bundled.yaml
redocly lint backend/openapi/openapi.bundled.yaml
redocly lint backend/openapi/openapi.yaml

KILL tiny-csrf NO MORE I HATE tiny-csrf USE DOUBLE SUBMIT COOKIE CSRF

feature has slice file: service file returns response.data
feature doesn't: service file returns response.data.data
modules should follow _template module

frontend/src/hooks/useApi vs frontend/src/store/hooks:

Server Cache State: This is data that actually lives on your backend server (e.g., products, orders, support tickets). Your frontend is just keeping a temporary, cached copy of it. This state has properties like loading, error, success, and can become "stale."

The useApi hook is perfect for this. It's designed specifically to manage the lifecycle of a single API request and its cached data directly within the component that needs it.
Global Client State: This is state that is truly global to the entire application and shared between many disconnected components.

Redux is still the best tool for this. The classic examples in our app are:
auth: The user's authentication status and profile info are needed everywhere (header, protected routes, etc.).
cart: The cart contents and total need to be accessible from the product page, the header, and the cart page itself.
Using Redux Thunks for every API call, as was done initially, mixes these concerns. It clutters the global Redux store with temporary server state that only one component might care about, leading to a lot of boilerplate (createAsyncThunk, extraReducers, etc.).

snackbar/toast notifications for user actions (e.g., "Product added to cart", "Profile updated successfully", etc.)
profile page should have settings like default shipping address, payment methods, password change, etc.

`import { xService } from "../../api";` must be used consistently no matter if the service file is in the exact same folder or not. That means no `import xService from "./xService";`




# Styling Conventions & Preferences

- **Full-Width Layouts**: Main content pages (like SupportPage, TicketDetailPage, etc.) should always fill the full width of their container to ensure proper alignment with the header and footer.
  - The main layout container (`Layout.jsx`) should enforce this on its children.
  - Use `w-full` on the direct child of the `<main>` flex container to make it stretch.
- **Consistent Centering**: Content within pages should be constrained to a maximum width and centered horizontally.
  - Use a class like `max-w-6xl` and `mx-auto` on the root element of a page component (e.g., `SupportPage.jsx`).
- **Avoid Content-Dependent Width**: Pages should not appear "smushed" or shrink when there is little content. The layout structure should define the width, not the content within it. This is solved by the `w-full` rule above.
- **Standard Page Structure Example**:
  - **`Layout.jsx`**:
    `<main className="..."><div className="w-full"><Outlet /></div></main>`
  - **`SomePage.jsx`**:
    `<div className="max-w-6xl mx-auto px-4 py-8">...</div>`

https://docs.stripe.com/testing#cards
stripe test cards

[STRIPE TEST]
4242424242424242 visa
4000056655665556 visa debit

todo: stripe payment redirects to http://localhost:5173/checkout/success?session_id=cs_test_b13KX4CHmDBGG3bbGoM4cqDm7xzJJsky649V8ZhnRlrTWetBcMkirLtVHZ
and http://localhost:5173/order-confirmation doesn't update


blank card on home should be a bunch of rotating stock images
category id in staff modal -> select category name instead
future: add filtering on a bunch of things beside products, add more logging to admin logs

Shipping API Integration:
Implement a backend service to get shipping rates (e.g., from Giao Hàng Nhanh).
Display shipping options and costs in the frontend checkout flow.
Add UI elements in the CheckoutPage for the user to select their address. [Service] provides APIs to fetch provinces, districts, and wards.
Display the calculated shipping fee and add it to the order total.

Manage Products category id -> name
0 stock show 0 in edit 

Manage Orders: update status -> click details -> react-router-dom.js?v=8c317fd0:9875 Uncaught TypeError: Cannot destructure property 'basename' of 'React10.useContext(...)' as it is null.
ErrorBoundary.jsx:35 An error occurred in the <Link> component.

future: spinner in place of loading text for all loading states


GVHD:
+case mua sp a hết hàng ->sẽ có thông báo rằng nếu hết hàng sẽ đưa về trang products có gợi ý các sản phẩm tương tự còn sản phẩm,

+case mua sp a hết hàng b còn hàng-> thông báo khác: thông báo rằng sản phẩm a đã hết hàng rồi, nhưng b còn hàng bạn có muốn tiếp tục thanh toán không
-> trường hợp ko thanh toán thì trở về và đưa sp a vào whilists, cũng đưa về gợi ý sản phẩm tương tự nhưng sản phẩm b vẫn còn ở trong giỏ hàng

*tính năng bổ sung: api vnpay bị trục trặc (vì quá tải chẳng hạn token bị hạn chế,...) có thể sử dụng zalopay dùng qr code

zalo/github/twitter login

kill vnpay, use momo instead

manage stock and multiple users using cart at once (give errors)
momo/zalopay/giaohangnhanh

screenshot + describe function
class diagram + database diagram
checkout 
-lấy API của giao hàng nhanh (sẽ sinh ra được địa chỉ)
-quản lý kho hàng
-
	-copy ra một file word các cái cần
-momo, zalopay
-

-docs
mở đầu
	process
	table: thời gian gặp nhau, nhiệm vụ, phân công từng thành viên,
	cuối chương: table những chức năng đã làm đc gì, rồi những chức năng sẽ làm cho tốt nghiệp - sau tốt nghiệp. phần trăm phân công việc
	role: a b c đã bao nhiêu chức năng
*đừng có lỗi - check lại, rà soát lại hết đừng để bị lỗi error thì sẽ bị trừ điểm
 	2 table : một là các feutures(chức năng), hai là bảng phân công.

*Nhớ làm (nha Đính)
chụp mô tả giao diện (phần chức năng)
sơ đồ csdl
class diagram



