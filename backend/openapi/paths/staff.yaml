'staff/products':
  post:
    summary: Create a new product
    description: (Staff Only) Adds a new product to the catalog.
    operationId: staffCreateProduct
    tags:
      - Staff
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas.yaml#/Product' # Re-use the product schema
    responses:
      '201':
        description: Product created successfully.
      '400':
        description: Bad Request (e.g., invalid product data).
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.

  get:
    summary: Get all products
    description: (Staff Only) Retrieves a complete list of all products in the catalog.
    operationId: staffGetAllProducts
    tags:
      - Staff
    security:
      - bearerAuth: []
    responses:
      '200':
        description: A list of all products.
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../components/schemas.yaml#/Product'
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.

'staff/products/{id}':
  put:
    summary: Update a product
    description: (Staff Only) Updates details for an existing product.
    operationId: staffUpdateProduct
    tags:
      - Staff
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: id
        required: true
        schema:
          type: integer
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas.yaml#/Product'
    responses:
      '200':
        description: Product updated successfully.
      '400':
        description: Bad Request (e.g., invalid product data).
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.
      '404':
        description: Product not found.

  delete:
    summary: Delete a product
    description: (Staff Only) Deletes a product from the catalog.
    operationId: staffDeleteProduct
    tags:
      - Staff
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: id
        required: true
        schema:
          type: integer
    responses:
      '204':
        description: Product deleted successfully.
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.
      '404':
        description: Product not found.

'staff/orders':
  get:
    summary: Get all orders
    description: (Staff Only) Retrieves a list of all customer orders.
    operationId: staffGetAllOrders
    tags:
      - Staff
    security:
      - bearerAuth: []
    responses:
      '200':
        description: A list of all orders.
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '../components/schemas.yaml#/Order'
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.

'staff/orders/{id}':
  put:
    summary: Update order status
    description: (Staff Only) Updates the status of an order (e.g., 'Shipped', 'Delivered').
    operationId: staffUpdateOrderStatus
    tags:
      - Staff
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: id
        required: true
        schema:
          type: integer
    requestBody: { $ref: '../components/requestBodies.yaml#/UpdateOrderStatus' }
    responses:
      '200':
        description: Order status updated.
      '400':
        description: Bad Request (e.g., invalid status).
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.
      '404':
        description: Order not found.

'staff/support-tickets':
  get:
    summary: Get all support tickets
    description: (Staff Only) Retrieves all support tickets from all users.
    operationId: staffGetAllSupportTickets
    tags:
      - Staff
    security:
      - bearerAuth: []
    responses:
      '200':
        description: A list of all support tickets.
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.

'staff/support-tickets/{ticketId}/reply':
  post:
    summary: Reply to a support ticket
    description: (Staff Only) Adds a reply to a specific support ticket and notifies the user.
    operationId: staffReplyToSupportTicket
    tags:
      - Staff
    security:
      - bearerAuth: []
    parameters:
      - in: path
        name: ticketId
        required: true
        schema:
          type: integer
    requestBody: { $ref: '../components/requestBodies.yaml#/ReplyToSupportTicket' }
    responses:
      '201':
        description: Reply posted successfully.
      '400':
        description: Bad Request (e.g., empty message).
      '401':
        description: Unauthorized.
      '403':
        description: Forbidden. User is not staff.
      '404':
        description: Support ticket not found.
